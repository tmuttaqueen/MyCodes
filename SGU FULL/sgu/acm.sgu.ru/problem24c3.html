                               <HTML>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=122 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:06:51 GMT -->
<HEAD><TITLE>
122. The book
</TITLE><META http-equiv=Content-Type content="text/html; charset=windows-1251"><META HTTP-EQUIV="Expires" content="Дата"><META HTTP-EQUIV="Cache-Control" content="no-cache"><META HTTP-EQUIV="pragma" content="no-cache"><META NAME="keywords" CONTENT="ACM, programming contest, programming, contest, informatics, ioi, saratov, ICPC, программирование, информатика, алгоритм, саратов, контест"><META NAME="description" CONTENT="That site consists of some amount of programming problems. Online Contester system check your solution right now. You can participate in programming contests. Train your programming skills."><link rel="stylesheet" href="style.html" type="text/css"><STYLE type=text/css>TD{font-size:9pt;}</STYLE></HEAD>
<BODY>
<table width=95%><tr><td>
<H3><B><P ALIGN="CENTER">
122. The book
</P></H3></B>
<P ALIGN="CENTER">
time limit per test: 0.5 sec. <BR> memory limit per test: 4096
 KB
</P>
<P ALIGN="JUSTIFY"></P>
<P ALIGN="JUSTIFY">
There is a group of N (2&lt;=N&lt;=1000) people which are numbered 1 through N, and everyone of them has not less than [ (N+1) / 2 ] friends. A man with number 1 has the book, which others want to read.
Write the program which finds a way of transferring the book so that it will visit every man only once, passing from the friend to the friend, and, at last, has come back to the owner. <i><b>Note</b></i>: if A is a friend of B then B is a friend of A.  
</P>
<P ALIGN="JUSTIFY"></P>
<B><P ALIGN="JUSTIFY">Input</P></B>
<P ALIGN="JUSTIFY">
First line of input contains number N. Next N lines contain information about friendships. (i+1)-th line of input contains a list of friends of i-th man.
</P>
<P ALIGN="JUSTIFY"></P>
<B><P ALIGN="JUSTIFY">Output</P></B>
<P ALIGN="JUSTIFY">
If there is no solution then your program must output 'No solution'. &nbsp; Else your program must output exactly N+1 number: this sequence should begin and should come to end by number 1, any two neighbours in it should be friends, and any two elements in it, except for the first and last, should not repeat.  
</P>
<P ALIGN="JUSTIFY"></P>
<P ALIGN="JUSTIFY">Sample Input</P>
<FONT FACE="Courier New">
<PRE>
4
2 3
1 4
1 4
2 3
</PRE>
<P ALIGN="JUSTIFY"></P>
</FONT>


<P ALIGN="JUSTIFY">Sample Output</P>
<FONT FACE="Courier New">
<PRE>
1 3 4 2 1
</PRE>
</FONT>
</td></tr>
</table>
</BODY>

<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=122 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:06:51 GMT -->
</HTML>
