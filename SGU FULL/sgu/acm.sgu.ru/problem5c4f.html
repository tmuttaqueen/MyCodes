                               <html>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=526 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:43 GMT -->
<head><title> SSU Online Contester :: 526. Running Hero </title><META http-equiv='content-type' content='text/html; charset=windows-1251'><link rel=stylesheet type=text/css href='http://acm.sgu.ru/texstyle.css'></head><body><div style='line-height:1.3em;'><div align=center><h4>526. Running Hero</h4></div><div align=center>Time limit per test: 1 second(s)<br />Memory limit: 262144 
 kilobytes</div><div align=center>input: standard<br />output: standard</div><br/><br /><br />Aladdin is running through a long cave. He is very fast and can move with a speed of at most <i>v</i> meters per second, but falling stones prevent him from running always at maximum speed.<br /><br />Now imagine a 2-dimensional world with Aladdin being a point moving in the positive or negative direction of the <i>X</i>-axis, and stones, falling down on the Al's head, being segments parallel to the <i>X</i>-axis. Another point in this world is princess Jasmin. She is waiting for Al at the point (<i>G</i>, 0). Aladdin starts his way at the point (0, 0). A stone kills Aladdin if he is located strictly between the endpoints of the stone when the stone reaches the ground. As Jasmin is in a fortified trench, the stones can't hurt her even if they fall down on her head.<br /><br />You are given Aladdin's maximum speed, Jasmin's position and information about times and places of falling stones. Your task is to find the whether it is possible for Aladdin to to reach Jasmin. If it's possible, you also have to find the sequence of actions which gets Aladdin to Jasmin in the minimum amount of time possible.<br /><br /><div align = left style='margin-top:1em;'><b>Input</b></div>The first line of the input contains three integers <i>v</i>, <i>G</i> and <i>n</i> (1 &le; <i>v</i> &le; 10<sup>5</sup>, 0 < |G| &le; 10<sup>5</sup>, 0 &le; <i>n</i> &le; 3000)&nbsp;&mdash; Aladdin's maximum speed, Jasmin's <i>x</i>-coordinate and the number of stones. Each of the following <i>n</i> lines contains three integers <i>x</i><sub>1,<i>i</i></sub>, <i>x</i><sub>2,<i>i</i></sub> and <i>t</i><sub><i>i</i></sub> (-10<sup>5</sup> &le; <i>x</i><sub>1,<i>i</i></sub> &le; <i>x</i><sub>2,<i>i</i></sub> &le; 10<sup>5</sup>, 1 &le; <i>t</i><sub><i>i</i></sub> &le; 10<sup>5</sup>)&nbsp;&mdash; left and right endpoints of the <i>i</i>-th stone, and time when the <i>i</i>-th stone reaches the ground.<br /><br /><div align = left style='margin-top:1em;'><b>Output</b></div>If there is no solution, the output should contain a single integer -1.<br /><br />Otherwise the first line of the output should contain one integer <i>k</i> &mdash; the number of instructions for Aladdin. Each of the following <i>k</i> lines should contain a pair of space-separated real numbers &mdash; speed <i>w</i> and time <i>t</i>. A pair (<i>w</i>, <i>t</i>) means that Aladdin should run <i>t</i> seconds at speed <i>w</i>. Speed <i>w</i> should be negative, if Aladdin should move in the negative direction of the <i>X</i>-axis and non-negative otherwise. Value <i>t</i> should always be positive. The value <i>w</i>=0 means that Aladdin doesn't move for time <i>t</i>. <br /><br />If there are many solutions, you may output any of them. All real values should be printed with at least 9 digits after the decimal point. The number of instructions <i>k</i> in your output must not exceed 10000.<br /><br /><div align = left style='margin-top:1em;'><b>Example(s)</b></div> <table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>5 35 2 -5 6 1 5 35 9 </pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>2<br/>-5.000000000000000000 1.000000000000000000<br/>5.000000000000000000 8.000000000000000000 </pre>
 </td>
 </tr>
</table><br><br /><br /><div align = left style='margin-top:1em;'><b>Note</b></div>Aladdin can change his speed instantly. If some stone falls down on Al's head at the moment of or after his meeting with Jasmin, it can't prevent the two from kissing each other and can't change anything.<br /><br /> </div><hr><table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=right><a target=_top href='mailto:acm@cs.sgu.ru'>Online Contester</a> Team &copy; 2002 - 2010. All rights reserved.</td></tr></table></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=526 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:43 GMT -->
</html>