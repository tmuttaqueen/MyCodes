                               <html>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=298 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:41 GMT -->
<head><title> SSU Online Contester :: 298. King Berl VI </title><META http-equiv='content-type' content='text/html; charset=windows-1251'><link rel=stylesheet type=text/css href='http://acm.sgu.ru/texstyle.css'></head><body><div style='line-height:1.3em;'><div align=center><h4>298. King Berl VI</h4></div><div align=center>Time limit per test: 1.5 second(s)<br />Memory limit: 65536
 kilobytes</div><div align=center>input: standard<br />output: standard</div><br/><br /><br />King Berl VI has <i>N</i> daughters and no sons. During his long life he gave a number of promises to his daughters. All the promises have the following wording: "daughter <i>X</i><sub><i>i</i></sub>, I promise to give you dowry not less than <i>C</i><sub><i>i</i></sub> burles more than to daughter <i>Y</i><sub><i>i</i></sub>", where <i>i</i> represents the number of the promise. Before his death the king decided to give some amount of money to each daughter. As far as he was the fair king, he decided to fullfill all his promises. But he was not only fair but also very greedy, he decided that he can give negative amount of burles as a dowry (i.e. daughter should pay this amount of burles to the treasury). Because of his born greed and by advice of the minister of finances, he made a decision that absolute value of each dowry should not exceed 10000 burles and the difference between dowry of the oldest and of the youngest daughters should be as small as possible (note, this value can be negative). <br /><br />I.e. if the dowry given to the <i>i</i>-th daughter is <i>A</i><sub><i>i</i></sub>, folllowing conditions should be satisfied:<ul> <li>-10000&le; <i>A</i><sub><i>i</i></sub>&le; 10000 <li><i>A</i><sub><i>N</i></sub> - <i>A</i><sub>1</sub> should be minimal </ul><br /><br /><div align = left style='margin-top:1em;'><b>Input</b></div>The fist line of the input file contains two integers numbers <i>N</i> and <i>M</i> (2&le; <i>N</i>&le; 10000; 0&le; <i>M</i>&le; 100000), where <i>N</i> is the number of daughters and <i>M</i> is the number of promises. The following <i>M</i> lines contain the description of promises in the following form: <i>X</i><sub><i>i</i></sub>, <i>Y</i><sub><i>i</i></sub>, <i>C</i><sub><i>i</i></sub> (1&le; <i>X</i><sub><i>i</i></sub>, <i>Y</i><sub><i>i</i></sub>&le; <i>N</i>; <i>X</i><sub><i>i</i></sub>&ne; <i>Y</i><sub><i>i</i></sub>; 0&le; <i>C</i><sub><i>i</i></sub>&le; 1000). The youngest daughter has the number one, the oldest&nbsp;&mdash;&nbsp;<i>N</i>. Each pair <i>X</i><sub><i>i</i></sub>, <i>Y</i><sub><i>i</i></sub> can appear in the input several times.<br /><br /><div align = left style='margin-top:1em;'><b>Output</b></div>Write to the output number -1 if there is no solution for the problem (i.e. there is no sequence of <i>N</i> integers which satisfies all described above requirements). Write to the output <i>N</i> integer numbers &mdash;&nbsp;the amount of dowry of each daughter in burles, if solution exists. If there are several solutions output any of them.<br /><br /><div align = left style='margin-top:1em;'><b>Example(s)</b></div>
<table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
4 5
2 1 1
3 1 2
3 2 3
4 2 1
4 3 2
</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
-3 -2 1 3
</pre>
 </td>
 </tr>
</table><br>
<table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
2 2
1 2 0
2 1 0
</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
-7 -7
</pre>
 </td>
 </tr>
</table><br>
 <br /><br /></div><hr><table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=right><a target=_top href='mailto:acm@cs.sgu.ru'>Online Contester</a> Team &copy; 2002 - 2010. All rights reserved.</td></tr></table></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=298 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:41 GMT -->
</html>