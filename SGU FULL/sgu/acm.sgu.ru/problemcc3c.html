                               <html>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=487 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:43 GMT -->
<head><title> SSU Online Contester :: 487. Courier's Route </title><META http-equiv='content-type' content='text/html; charset=windows-1251'><link rel=stylesheet type=text/css href='http://acm.sgu.ru/texstyle.css'></head><body><div style='line-height:1.3em;'><div align=center><h4>487. Courier's Route</h4></div><div align=center>Time limit per test: 0.5 second(s)<br />Memory limit: 262144
 kilobytes</div><div align=center>input: standard<br />output: standard</div><br/><br /><br />There are <i>N</i> towns in a kingdom, numbered from 1 to <i>N</i>, with the capital having the number 1. Each town is enclosed in a city wall with 4 gates. The gates are also numbered, with the gates of the city <i>i</i> (1 &le; <i>i</i> &le; <i>N</i>) numbered 4&middot; <i>i</i>-3, 4&middot; <i>i</i>-2, 4&middot; <i>i</i>-1, 4&middot; <i>i</i>. At each gate is exactly one road that leads to some gate of another town (note that there may be more than one road between two towns). All the roads can be travelled in both directions. Due to a system of bridges and tunnels, the roads do not intersect outside the towns.<br /><br />A royal courier has to post copies of an Important Royal Decree on the outer sides of all gates of all towns. The courier can freely move from one gate to another in any town, but outside of towns, he's allowed to travel only along the roads. The courier starts from the capital and has to return to the capital after completing the assignment.<br /><br />Is it possible for the courier to do this, passing each gate exactly once? Exiting a town through a gate only to post the decree on the outer side of the gate and immediately returning to the town counts as passing the gate once.<br /><br /><div align = left style='margin-top:1em;'><b>Input</b></div>The first line of the input file contains <i>N</i> (2 &le; <i>N</i> &le; 1000). Each of the following 2&middot; <i>N</i> lines describes one road and contains two integers, separated by a space: the numbers of the two gates connected by the road.<br /><br /><div align = left style='margin-top:1em;'><b>Output</b></div>The first line of the output file should contain the word "<pre style='display:inline;font-size:120%;'>Yes</pre>" or "<pre style='display:inline;font-size:120%;'>No</pre>" (without the quotes) depending on whether the courier's assignment can be completed while passing each gate exactly once. In case it is possible, the second line of the file should contain 4&middot; <i>N</i> integers, separated by spaces: the numbers of the gates in the order the courier passes them. If there are several solutions, output any one of them.<br /><br /><div align = left style='margin-top:1em;'><b>Example(s)</b></div>
<table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
4
1 9
2 10
3 13
4 8
5 11
6 14
7 16
15 12
</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
Yes
1&nbsp;3&nbsp;13&nbsp;14&nbsp;16&nbsp;15&nbsp;12&nbsp;9&nbsp;10&nbsp;11&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;4&nbsp;2
</pre>
 </td>
 </tr>
</table><br>
<br /><br /> </div><hr><table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=right><a target=_top href='mailto:acm@cs.sgu.ru'>Online Contester</a> Team &copy; 2002 - 2010. All rights reserved.</td></tr></table></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=487 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:43 GMT -->
</html>