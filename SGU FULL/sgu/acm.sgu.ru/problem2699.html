                               <html>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=388 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:42 GMT -->
<head><title> SSU Online Contester :: 388. Soap Opera </title><META http-equiv='content-type' content='text/html; charset=windows-1251'><link rel=stylesheet type=text/css href='http://acm.sgu.ru/texstyle.css'></head><body><div style='line-height:1.3em;'><div align=center><h4>388. Soap Opera</h4></div><div align=center>Time limit per test: 0.5 second(s)<br />Memory limit: 262144
 kilobytes</div><div align=center>input: standard<br />output: standard</div><br/><br /><br />Brazil script writers are inexhaustible! Recently two greatest writers don Juan and donna Rosa have married. And now they are writing their shared scenario with a great happy end. So they want to maximize the amount of marriages at the end of the serial. In spite of their sympathy, Juan and Rosa have different points of view at the cinema, so there are some pairs of actors (of course, pair is a man and woman), such that Juan considers them photogenic, but Rosa does not and vise versa. In order to settle, newlyweds decided to select such a troup that both Juan and Rosa can combine marriages at the scenario in such a way that each actor will be married. You will be given the number of actors <i>n</i> and sets of successful pairs in the views of Juan and Rosa. Your task is to maximize the size of the troup.<br /><br /><div align = left style='margin-top:1em;'><b>Input</b></div>First line of the input file contains three integer numbers <i>n</i>, <i>m</i><sub>1</sub> and <i>m</i><sub>2</sub>&nbsp;&mdash; the number of actors, number of photogenic pairs in the views of Juan and Rosa respectively, 2 &le; <i>n</i> &le; 100. Each of the following <i>m</i><sub>1</sub> lines contains a pair of integer numbers between 1 and <i>n</i>&nbsp;&mdash; successful pair in the view of Juan. It is guaranteed that all Juan's pairs will be different. Next <i>m</i><sub>2</sub> lines describe Rosa's opinion in the same manner.<br /><br /><div align = left style='margin-top:1em;'><b>Output</b></div>In the first line output one integer number <i>k</i>&nbsp;&mdash; the maximal possible number of marriages at the end of the serial. Each of the following <i>k</i> lines should contain description of possible marriages in the view of Juan, and then output <i>k</i> lines&nbsp;&mdash; description in the view of Rosa.<br /><br /><div align = left style='margin-top:1em;'><b>Example(s)</b></div>
<table cellspacing=0 cellpadding=4
 style='border-collapse:collapse; border: 1px black solid;'>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample input</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>sample output</pre>
 </td>
 </tr>
 <tr >
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
4 2 2
1 3
2 4
1 4
2 3
</pre>
 </td>
 <td width=400 valign=top style='border-collapse:collapse; border: 1px black solid;'>
 <pre>
2
1 3
2 4
3 2
4 1
</pre>
 </td>
 </tr>
</table><br>
<br /><br /> </div><hr><table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=right><a target=_top href='mailto:acm@cs.sgu.ru'>Online Contester</a> Team &copy; 2002 - 2010. All rights reserved.</td></tr></table></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=388 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:42 GMT -->
</html>