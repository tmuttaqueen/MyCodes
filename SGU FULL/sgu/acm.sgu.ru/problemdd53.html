                               <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=157 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:15:15 GMT -->
<head>
<title>Saratov State University :: Online Contester</title>
<META content="text/html; charset=windows-1251" http-equiv=Content-Type>
<META NAME="keywords" CONTENT="???">
<META NAME="description" CONTENT="???">
<meta name="google-site-verification" content="YvG5TvZLtlRLnK2EX22Dz815tDU7UKdDeXE_yJQp3cQ" />
<meta name="verify-v1" content="MCzwwWrZt7qOC1A2HZusdjMbXjHR+zXtTCKpx2CRSEU=" />

  <link rel="stylesheet" href="templates.css" type="text/css">
  <link rel="stylesheet" href="js/ui.datepicker.html" type="text/css">
  <script type="text/javascript" language="javascript" src="js/jquery.html"></script>
  <script type="text/javascript" language="javascript" src="js/jquery.example.html"></script>
  <script type="text/javascript" language="javascript" src="js/ui.datepicker-2.html"></script>

  <link rel="stylesheet" href="templates.css" type="text/css">
  <link rel="stylesheet" href="js/ui.datepicker.html" type="text/css">
  <script type="text/javascript" language="javascript" src="js/jquery.html"></script>
  <script type="text/javascript" language="javascript" src="js/jquery.example.html"></script>
  <script type="text/javascript" language="javascript" src="js/ui.datepicker-2.html"></script>
<!--[if IE 6]>
<script type="text/javascript"> 
    /*Load jQuery if not already loaded*/ if(typeof jQuery == 'undefined'){ document.write("<script type=\"text/javascript\"   src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"script>"); var __noconflict = true; } 
    var IE6UPDATE_OPTIONS = {
        icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
    }
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->
<link rel="stylesheet" href="style-1024.css" type="text/css">
</head>      <body bgcolor=#F3F6F9 style = 'font-size : 9pt;' text=#000000 link=#336699 vlink=#336699 alink=#336699><div align="center">
    <div align=center><h4>157. Patience
</h4></div><div align=center>time limit per test: 0.5 sec.<br>memory limit per test: 65536
 KB</div><div align=center>input: standard input<br>output: standard output</div><br><br><br><div align = left>Sasha enjoys playing patiences. Last days he played one very interesting patience on a rectangular grid 14x4. The rules of this patience are very simple. He takes a standard 52-card deck (without jokers), extracts all aces and lays them in the first column of the grid. Cell (1, 1) contains ace of diamonds, (1, 2) - ace of hearts, (1, 3) - ace of clubs and (1, 4) contains ace of spades. Then Sasha shuffles the rest of the deck and lays remaining cards to the grid row by row leaving column 2 empty, so all the columns from 3 to 14 are covered by cards.
<br>After having laid all cards in such a manner, he is allowed to make moves. The move is determined by selection of an empty cell. This empty cell is to be covered by the card defined by the contents of the left adjacent cell. The covering card must have the same suit and the next higher value (order of values is: Ace 2 3 4 5 6 7 8 9 10 Jack Queen King). For example, if the cell (6, 3) contains the Queen of Spades, and the cell (7, 3) is empty, selecting cell (7, 3) will move the King of Spades to (7, 3) (and leave empty the cell where the King of Spades was before the move). If the left neighbour of the empty cell contains a King or is empty, the move selecting this empty cell is disabled.
<br>The goal is to make each row ordered (i.e. columns from 1 to 13 must contain cards from Ace to King in the order described above, and the column 14 must be empty). If all empty cells follow Kings or empty cells, and the cards are not ordered, Sasha is declared a loser (in the classic version of this patience, the rest of the deck may be shuffled two times again leaving ordered cards on their positions, however Sasha is very experienced and often wins without additional shuffling).
<br>Now Sasha wants to know some things about this patience. Imagine the position where three suits are already ordered, and the remaining suit is ordered partially. It is known that there are less than n highest cards that are not ordered. So only n rightmost columns may contain unordered cards. For example, if n = 3, columns from 1 to 11 are ordered, and columns from 12 to 14 contain Queen, King and empty cell in an arbitrary order. Sasha wants to determine how many of such positions for a given n have a winning strategy. For example, if n = 3, there is exactly one position that does not allow him to win: ... [King] [empty] [Queen]. All other positions have a winning strategy:
<br>&nbsp;&nbsp;1. ... [Queen] [King] [empty] is already a goal position
<br>&nbsp;&nbsp;2. ... [Queen] [empty] [King] allows to move King adjacent to the Queen.
<br>&nbsp;&nbsp;3. ... [empty] [Queen] [King] becomes previous position after moving the Queen after the Jack.
<br>&nbsp;&nbsp;4. ... [empty] [King] [Queen] becomes goal position by moving the Queen after the Jack.
<br>&nbsp;&nbsp;5. ... [King] [Queen] [empty] becomes position 3 after moving the King to the empty cell.
<br>So for n = 3 the answer is 5.
<br>Write a program that will get the answer for an arbitrary n from 1 to 13.
</div><div align = left><br><b>Input</b></div><div align = left>Input file consists of only one integer number n.
</div><div align = left><br><b>Output</b></div><div align = left>Output the number of positions with less than n highest cards not ordered in the remaining suit that have a winning strategy.
</div><div align = left><br><b>Sample test(s)</b></div><div align = left><br>Input</div><div align = left><font face='Courier New'></div><div align = left><pre></div><div align = left>Sample input #1
<br>3
<br>
<br>Sample input #2
<br>4
</div><div align = left></pre></div><div align = left></font></div><div align = left><br>Output</div><div align = left><font face='Courier New'></div><div align = left><pre></div><div align = left>Sample output #1
<br>5
<br>
<br>Sample output #2
<br>14
</div><div align = left></pre></div><div align = left></font></div><div align = left><br><b>Note</b></div><div align = left>
<br>You can download pdf version of this task <a href=materials/p155-163.html>here</a>
</div><div align = left><div align = right> <a href = 'submit6d00.html?problem=157'>[submit]</a> </div></div><div align = left><div align = right> <a href = 'forumdd53.html?contest=0&amp;problem=157'>[forum]</a> </div></div><div align = left><hr></div><table align=left cellspacing=7><tr><td>Author:</td><td>Andrew Lopatin
</td></tr><tr><td>Resource:</td><td>ACM ICPC 2002-2003 NEERC, Northern Subregion
</td></tr><tr><td>Date:</td><td>November, 2002
</td></tr></table><br><br><br><br><br><br><br><br><br><br><br><table width=100% class=tb cellpadding=0 cellspacing=0><tr><td><table width=100% cellspacing=1 ><tr><td bgcolor=#FFFFFF> <table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=left>Server time: 2013-11-15 16:38:05</td><td align=right><a target=_top href='mailto:acm@sgu.ru'>Online Contester</a> Team &copy; 2002 - 2013. All rights reserved.</td></tr></table></td></tr></table></td></tr></table></div></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=157 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:15:16 GMT -->
</html> 