                               <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=263 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:41 GMT -->
<head>
<title>Saratov State University :: Online Contester</title>
<META content="text/html; charset=windows-1251" http-equiv=Content-Type>
<META NAME="keywords" CONTENT="???">
<META NAME="description" CONTENT="???">
<meta name="google-site-verification" content="YvG5TvZLtlRLnK2EX22Dz815tDU7UKdDeXE_yJQp3cQ" />
<meta name="verify-v1" content="MCzwwWrZt7qOC1A2HZusdjMbXjHR+zXtTCKpx2CRSEU=" />

  <link rel="stylesheet" href="http://acm.sgu.ru/templates.css" type="text/css">
  <link rel="stylesheet" href="http://acm.sgu.ru/js/ui.datepicker.css" type="text/css">
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/jquery.js"></script>
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/jquery.example.js"></script>
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/ui.datepicker.js"></script>

  <link rel="stylesheet" href="http://acm.sgu.ru/templates.css" type="text/css">
  <link rel="stylesheet" href="http://acm.sgu.ru/js/ui.datepicker.css" type="text/css">
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/jquery.js"></script>
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/jquery.example.js"></script>
  <script type="text/javascript" language="javascript" src="http://acm.sgu.ru/js/ui.datepicker.js"></script>
<!--[if IE 6]>
<script type="text/javascript"> 
    /*Load jQuery if not already loaded*/ if(typeof jQuery == 'undefined'){ document.write("<script type=\"text/javascript\"   src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"script>"); var __noconflict = true; } 
    var IE6UPDATE_OPTIONS = {
        icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
    }
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->
<link rel="stylesheet" href="http://acm.sgu.ru/style-1024.css" type="text/css">
</head>      <body bgcolor=#F3F6F9 style = 'font-size : 9pt;' text=#000000 link=#336699 vlink=#336699 alink=#336699><div align="center">
    <div align=center><h4>263. Towers
</h4></div><div align=center>time limit per test: 2.5 sec.<br>memory limit per test: 65536
 KB</div><div align=center>input: standard<br>output: standard</div><br><br><br><div align = left>Vasya likes to play unusual games very much. One of these games is building towers. Unfortunately he is very tired today and instead of building towers himself, he wants his favorite robot to build towers for him. So, this time, Vasya will be laying on his couch sending commands to his robot. 
<br>The process of constructing towers is very easy. Imagine that you have a number of cells in a row. Cells are numbered from 1 to 10^6 and initially are empty. Robot can move to specified cell and put some number of cubes on it. If there are some cubes already on the cell, he will put new cubes on the top of the existing ones. 
<br>For two integers i and j (i &lt;= j) the cubes on cells i..j are called 'tower', if on any cell with number k, i &lt;= k &lt;= j, there is a positive number of cubes, and there are no cubes on cell i-1 (or i is the leftmost cell in the row) and cell j+1 (or j is the rightmost cell in the row). Length of the tower is j-i+1 - the number of columns in it. 
<br>Within each tower the columns can be numbered from 1 to its length from the left to the right, so instead of giving robot a cell number, Vasya can give robot a tower number and column number within the tower.
<br>As you can guess, your task is to write a robot that will process commands from Vasya. Robot must be able to build towers and respond to simple questions (see below). 
<br>Here is the list of available commands:
<br>
<br>Actions:
<br><ul>
<br><li>put &lt;x&gt; &lt;c&gt; - put c cubes on cell x</li>
<br><li>tput &lt;t&gt; &lt;x&gt; &lt;c&gt; - put c cubes on column x in tower with number t (towers are numbered from left to the right)</li>
<br></ul>
<br>
<br>Questions:
<br><ul>
<br><li>towers - print total number of towers built</li>
<br><li>cubes &lt;t&gt; - print the number of cubes in the tower t</li>
<br><li>length &lt;t&gt; - print the length of the tower t</li>
<br><li>tcubes &lt;t&gt; &lt;x&gt; - print the number of cubes in column x of the tower t</li/&gt;
<br></ul>
</div><div align = left><br><b>Input</b></div><div align = left>The first line of input file contains a number of commands N (1 &lt;= N &lt;= 10^6). Each of the following N lines contains a command.
<br>It's guaranteed that all input commands are correct (cell number c is always in range 1..10^6, tower t always exists, column x inside tower always exists and its corresponding cell number is also in range 1..10^6). 
<br>You can assume that no cell will have more than 2^31-1 cubes on it.
</div><div align = left><br><b>Output</b></div><div align = left>For the commands that require printing, output exactly one line according to the format of sample output file below. 
<br>Please, do not follow English grammar rules and print '1 towers' instead of '1 tower'. The same applies for printing '1 cubes' and '1th', '2th' and '3th'.
</div><div align = left><br><b>Sample test(s)</b></div><div align = left><br>Input</div><div align = left><font face='Courier New'></div><div align = left><pre></div><div align = left>22
<br>towers
<br>put 2 5
<br>put 1 6
<br>put 3 6
<br>put 3 3
<br>towers
<br>length 1
<br>put 6 3
<br>put 5 4
<br>length 2
<br>tcubes 2 1
<br>tcubes 2 2
<br>towers
<br>cubes 1
<br>cubes 2
<br>put 4 3
<br>towers
<br>cubes 1
<br>tput 1 6 50
<br>cubes 1
<br>tcubes 1 6
<br>length 1
</div><div align = left></pre></div><div align = left></font></div><div align = left><br>Output</div><div align = left><font face='Courier New'></div><div align = left><pre></div><div align = left>0 towers
<br>1 towers
<br>length of 1th tower is 3
<br>length of 2th tower is 2
<br>4 cubes in 1th column of 2th tower
<br>3 cubes in 2th column of 2th tower
<br>2 towers
<br>20 cubes in 1th tower
<br>7 cubes in 2th tower
<br>1 towers
<br>30 cubes in 1th tower
<br>80 cubes in 1th tower
<br>53 cubes in 6th column of 1th tower
<br>length of 1th tower is 6
</div><div align = left></pre></div><div align = left></font></div><div align = left><br><b>Note</b></div><div align = left>This problem has huge tests. Some read/write routines work very slow in several compilers (especially, C/C++: try to use getc() putc() functions to avoid IO troubles). 
</div><div align = left><div align = right> <a href = 'http://acm.sgu.ru/submit.php?problem=263'>[submit]</a> </div></div><div align = left><div align = right> <a href = 'http://acm.sgu.ru/forum.php?contest=0&amp;problem=263'>[forum]</a> </div></div><div align = left><hr></div><table align=left cellspacing=7><tr><td>Author:</td><td>Roman V. Alekseenkov
</td></tr><tr><td>Resource:</td><td>Saratov SU Contest: Golden Fall 2004
</td></tr><tr><td>Date:</td><td>October 2, 2004
</td></tr></table><br><br><br><br><br><br><br><br><br><br><br><table width=100% class=tb cellpadding=0 cellspacing=0><tr><td><table width=100% cellspacing=1 ><tr><td bgcolor=#FFFFFF> <table width=100% cellpadding=0 cellspacing=0 border=0><tr style='background-color : #FFFFFF;'><td align=left>Server time: 2013-11-15 16:44:34</td><td align=right><a target=_top href='mailto:acm@sgu.ru'>Online Contester</a> Team &copy; 2002 - 2013. All rights reserved.</td></tr></table></td></tr></table></td></tr></table></div></body>
<!-- Mirrored from acm.sgu.ru/problem.php?contest=0&problem=263 by HTTrack Website Copier/3.x [XR&CO'2008], Fri, 15 Nov 2013 13:22:41 GMT -->
</html> 